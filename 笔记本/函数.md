# 函数

短小：20行封顶最佳

只做一件事：如果函数中多个步骤属于同一个抽象层，仍旧是做了一件事

>函数承诺只做一件事，但还是会做其他被隐藏的事。



一个函数一个抽象级层：

​	要确保函数只做一件事，函数中的语句需要在同一抽象层

​	向下原则读写代码

>程序员往往很那遵守这条规则，写出只停留于一个抽象层级的函数。

使用描述性的函数名称

​	见名知意，更清楚的解析函数的意图，以及参数的顺序和意图。动词+名词

	>writeField(name)  比 write(name)更清晰表述函数的意图



函数参数：理想是0.一其次为1，再次为2，尽量避免3个以上参数

​	对于用于转换的参数，返回其转换后的返回值

​	表识参数：使用isXXX代替true/false

​	二元参数：可以使用一些机制将二元转为一元：

​				将原函数写成某个参数的成员之一。

​				或者提高某个函数的作用域：将某个参数写成函数所在类的成员变量

​	三元函数：尽量避免

​	参数对象：当函数需要>=2个参数时，可根据实际对参数进行封装。

	>但有时，一组参数被共同传递，更加符合实际。如计算长方形的面积：直接传入 long width这一组参数，比封装更好

> 输出参数与输入参数

分割指令与询问：

函数要么做什么事（无返回），要么回答什么事（有返回），二者不可兼得

如publiv boolan set("userName","aaa")

该方法既做了什么事（设置name的值），又返回了boolean，容易混淆。

使用异常替代返回错误码：返回错误码，鼓励了在If语句判断中把指令当做表达式使用

> 指令式函数：

抽离try...catch:它将错误处理和正常流程混为一谈，最好将主体部分抽离，封装成函数，在块中调用

`my:` 对一些逻辑复杂的可以这样，逻辑简单的没必要

依赖磁铁：返回错误码，暗含一个错误码的枚举类，其他许多类都需要依赖这个枚举

使用异常代替错误码，新异常可以从异常类派生出来。



不重复自己

打磨代码---分解函数===修改名称---消除重复。

缩短和重写安置方法，拆分类